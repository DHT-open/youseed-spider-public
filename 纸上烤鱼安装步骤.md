# 纸上烤鱼安装步骤 #

**注意**：以下均以centos7为例，部分软件可能已经安装。

## 1.安装python及依赖环境 ##

    yum install -y python-devel
    yum -y install python-pip

	pip install bencode.py
	pip install PyMySQL
	pip install redis
	pip install DBUtils
	pip install pika

## 2.安装redis ##

	yum -y install redis

## 3.安装rabbitMQ ##

rabbitMQ的安装配置稍微麻烦一点，需要一定的耐心。如果出现了问题，建议搜索一下“rabbitMQ安装教程”。

centos7可以用如下命令安装

	wget https://github.com/rabbitmq/erlang-rpm/releases/download/v21.1.3/erlang-21.1.3-1.el7.centos.x86_64.rpm
	rpm -ivh erlang-21.1.3-1.el7.centos.x86_64.rpm

	wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.7.9/rabbitmq-server-3.7.9-1.el7.noarch.rpm
	rpm -ivh rabbitmq-server-3.7.9-1.el7.noarch.rpm

	rabbitmq-plugins enable rabbitmq_management
	rabbitmq-server

	rabbitmqctl add_user  youseed youseed
	rabbitmqctl set_user_tags root administrator
	rabbitmqctl set_permissions -p / youseed '.*' '.*' '.*'

## 4.数据库... ##
	直接使用“纸上烤鱼zsky”数据库。

## 5.安装、配置爬虫 ##

1.下载`dht_spider_zsky.py`到本地；

2.修改爬虫配置，使用文本编辑器打开`dht_spider_zsky.py`，修改如下配置：

    DB_NAME = 'zsky'
    DB_HOST = '127.0.0.1'
    DB_USER = 'root'
    DB_PASS = '' <---------------zsky数据库密码
    DB_PORT = 3306

**注意**：爬虫的可配置项较多，在正常运行后，可以根据需要自行调整
    

3.启动爬虫

	python dht_spider_zsky.py

或者后台启动

	nohup python dht_spider_zsky.py > spider.log 2>&1 &